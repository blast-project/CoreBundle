{% set code %}
{% for key, field in fields %}
    {% if key == 0 %}
    {{- field }}: ~
    {% else %}
                    {{ field }}: ~
    {% endif %}
{% endfor%}
{% endset %}

{% set listcode %}
{% for key, field in fields %}
    {% if key == 0 %}
    {{- field }}: ~
    {% else %}
            {{ field }}: ~
    {% endif %}
{% endfor%}
{% endset %}

{% if oldCode == '' %}
parameters:
    blast:
{% endif %}
{{- oldCode }}
        ### {{ entity }}  ###
        {{ fqcn }}:
            # SHOW
            Sonata\AdminBundle\Show\ShowMapper:
                add:
                    main_tab:
                        main_group:
                        {{ code }}
            # FORM    
            Sonata\AdminBundle\Form\FormMapper:
                add:
                    main_tab:
                        main_group:
                        {{ code }}
            # LIST    
            Sonata\AdminBundle\Datagrid\ListMapper:
                add:
                {{ listcode }}
                    _actions:
                        show: ~
                        edit: ~
                        delete: ~
                        duplicate:
                            template: BlastCoreBundle:CRUD:list__action_duplicate.html.twig
            # FILTERS 
            Sonata\AdminBundle\Datagrid\DatagridMapper:
                add:
                {{ listcode }}
